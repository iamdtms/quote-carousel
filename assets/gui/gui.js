var J = (a, e, t) => { if (!e.has(a)) throw TypeError("Cannot " + t) }; var l = (a, e, t) => { if (e.has(a)) throw TypeError("Cannot add the same private member more than once"); e instanceof WeakSet ? e.add(a) : e.set(a, t) }; var n = (a, e, t) => (J(a, e, "access private method"), t); import "https://cdn.jsdelivr.net/gh/argyleink/scrollyfills@latest/dist/scrollyfills.modern.js"; (function () { const e = document.createElement("link").relList; if (e && e.supports && e.supports("modulepreload")) return; for (const s of document.querySelectorAll('link[rel="modulepreload"]')) r(s); new MutationObserver(s => { for (const i of s) if (i.type === "childList") for (const o of i.addedNodes) o.tagName === "LINK" && o.rel === "modulepreload" && r(o) }).observe(document, { childList: !0, subtree: !0 }); function t(s) { const i = {}; return s.integrity && (i.integrity = s.integrity), s.referrerpolicy && (i.referrerPolicy = s.referrerpolicy), s.crossorigin === "use-credentials" ? i.credentials = "include" : s.crossorigin === "anonymous" ? i.credentials = "omit" : i.credentials = "same-origin", i } function r(s) { if (s.ep) return; s.ep = !0; const i = t(s); fetch(s.href, i) } })(); var c, b, A, T, E, z, y, D, x, B, L, F, S, K, m, _, d, $, u, v, w, G, I, R, k, U, N, W, C, j, g, q, p, M, f, O; class Q { constructor(e) { l(this, c); l(this, A); l(this, E); l(this, y); l(this, x); l(this, L); l(this, S); l(this, m); l(this, d); l(this, u); l(this, w); l(this, I); l(this, k); l(this, N); l(this, C); l(this, g); l(this, p); l(this, f); this.elements = { root: e, scroller: e.querySelector(".gui-carousel--scroller"), snaps: e.querySelectorAll(".gui-carousel--snap"), previous: null, next: null, pagination: null }, this.current = void 0, this.hasIntersected = new Set, this.elements.root.setAttribute("tabindex", -1), this.elements.root.setAttribute("aria-roledescription", "carousel"), this.elements.scroller.setAttribute("role", "group"), this.elements.scroller.setAttribute("aria-label", "Items Scroller"), this.elements.scroller.setAttribute("aria-live", "Polite"), n(this, x, B).call(this), n(this, w, G).call(this), n(this, C, j).call(this), n(this, L, F).call(this), n(this, E, z).call(this), n(this, c, b).call(this) } goNext() { const e = this.current.nextElementSibling; this.current !== e && (e ? (this.goToElement({ scrollport: this.elements.scroller, element: e }), this.current = e) : console.log("at the end")) } goPrevious() { const e = this.current.previousElementSibling; this.current !== e && (e ? (this.goToElement({ scrollport: this.elements.scroller, element: e }), this.current = e) : console.log("at the beginning")) } goToElement({ scrollport: e, element: t }) { const r = n(this, f, O).call(this), s = Math.abs(e.offsetLeft - t.offsetLeft), i = parseInt(getComputedStyle(e)["padding-left"]), o = e.clientWidth / 2 > s ? s - i : s + i; e.scrollTo(r === "ltr" ? o : o * -1, 0) } } c = new WeakSet, b = function () { for (let e of this.hasIntersected) { e.target.toggleAttribute("inert", !e.isIntersecting); const t = this.elements.pagination.children[n(this, u, v).call(this, e.target)]; t.setAttribute("aria-selected", e.isIntersecting), t.setAttribute("tabindex", e.isIntersecting ? "0" : "-1"), e.isIntersecting && (this.current = e.target, this.goToElement({ scrollport: this.elements.pagination, element: t })) } n(this, A, T).call(this), this.hasIntersected.clear() }, A = new WeakSet, T = function () { const { lastElementChild: e, firstElementChild: t } = this.elements.scroller, r = this.current === e, s = this.current === t; document.activeElement === this.elements.next && r ? this.elements.previous.focus() : document.activeElement === this.elements.previous && s && this.elements.next.focus(), this.elements.next.toggleAttribute("disabled", r), this.elements.previous.toggleAttribute("disabled", s) }, E = new WeakSet, z = function () { for (let e of this.elements.snaps) this.carousel_observer.observe(e); this.mutation_observer.observe(document, { childList: !0, subtree: !0 }), this.elements.scroller.addEventListener("scrollend", n(this, c, b).bind(this)), this.elements.next.addEventListener("click", this.goNext.bind(this)), this.elements.previous.addEventListener("click", this.goPrevious.bind(this)), this.elements.pagination.addEventListener("click", n(this, m, _).bind(this)), this.elements.root.addEventListener("keydown", n(this, d, $).bind(this)) }, y = new WeakSet, D = function () { for (let e of this.elements.snaps) this.carousel_observer.unobserve(e); this.mutation_observer.disconnect(), this.elements.scroller.removeEventListener("scrollend", n(this, c, b)), this.elements.next.removeEventListener("click", this.goNext), this.elements.previous.removeEventListener("click", this.goPrevious), this.elements.pagination.removeEventListener("click", n(this, m, _)), this.elements.root.removeEventListener("keydown", n(this, d, $)) }, x = new WeakSet, B = function () { this.carousel_observer = new IntersectionObserver(e => { for (let t of e) this.hasIntersected.add(t), t.target.classList.toggle("--in-view", t.isIntersecting) }, { root: this.elements.scroller, threshold: .6 }), this.mutation_observer = new MutationObserver((e, t) => { e.filter(r => r.removedNodes.length > 0).forEach(r => { [...r.removedNodes].filter(s => s.querySelector(".gui-carousel") === this.elements.root).forEach(s => { n(this, y, D).call(this) }) }) }) }, L = new WeakSet, F = function () { const e = this.elements.root.hasAttribute("carousel-start") ? this.elements.root.getAttribute("carousel-start") - 1 : 0; this.current = this.elements.snaps[e], n(this, S, K).call(this), this.elements.snaps.forEach((t, r) => { this.hasIntersected.add({ isIntersecting: r === 0, target: t }), this.elements.pagination.appendChild(n(this, I, R).call(this, t, r)), t.setAttribute("aria-label", `${r + 1} of ${this.elements.snaps.length}`), t.setAttribute("aria-roledescription", "item") }) }, S = new WeakSet, K = function () { if (this.elements.root.hasAttribute("carousel-start")) { const e = this.elements.root.getAttribute("carousel-start"), t = this.elements.snaps[e - 1]; this.elements.snaps.forEach(r => r.style.scrollSnapAlign = "unset"), t.style.scrollSnapAlign = null, t.style.animation = "carousel-scrollstart 1ms", t.addEventListener("animationend", r => { t.style.animation = null, this.elements.snaps.forEach(s => s.style.scrollSnapAlign = null) }, { once: !0 }) } }, m = new WeakSet, _ = function (e) { if (e.target.classList.contains("gui-carousel--pagination")) return; e.target.setAttribute("aria-selected", !0); const t = this.elements.snaps[n(this, u, v).call(this, e.target)]; this.goToElement({ scrollport: this.elements.scroller, element: t }) }, d = new WeakSet, $ = function (e) { var s, i; const t = n(this, f, O).call(this), r = n(this, u, v).call(this, e.target); switch (e.key) { case "ArrowRight": e.preventDefault(); const o = t === "ltr" ? 1 : -1, h = t === "ltr" ? this.elements.next : this.elements.previous; e.target.closest(".gui-carousel--pagination") ? (s = this.elements.pagination.children[r + o]) == null || s.focus() : (document.activeElement === h && n(this, p, M).call(this, h), h.focus()), t === "ltr" ? this.goNext() : this.goPrevious(); break; case "ArrowLeft": e.preventDefault(); const H = t === "ltr" ? -1 : 1, P = t === "ltr" ? this.elements.previous : this.elements.next; e.target.closest(".gui-carousel--pagination") ? (i = this.elements.pagination.children[r + H]) == null || i.focus() : (document.activeElement === P && n(this, p, M).call(this, P), P.focus()), t === "ltr" ? this.goPrevious() : this.goNext(); break } }, u = new WeakSet, v = function (e) { let t = 0; for (; e = e.previousElementSibling;)t++; return t }, w = new WeakSet, G = function () { let e = document.createElement("nav"); e.className = "gui-carousel--pagination", e.setAttribute("role", "tablist"), this.elements.root.appendChild(e), this.elements.pagination = e }, I = new WeakSet, R = function (e, t) { const r = this.elements.root.getAttribute("carousel-pagination"); return t++, r == "gallery" ? n(this, N, W).call(this, { index: t, type: r, item: e }) : n(this, k, U).call(this, { index: t, type: r, item: e }) }, k = new WeakSet, U = function ({ index: e, type: t, item: r }) { const s = document.createElement("button"), i = r.querySelector("img"), o = r.querySelector("figcaption"); return s.className = "gui-carousel--control", s.type = "button", s.role = "tab", s.title = `Item ${e}: ${(i == null ? void 0 : i.alt) || (o == null ? void 0 : o.innerText)}`, s.setAttribute("aria-label", (i == null ? void 0 : i.alt) || (o == null ? void 0 : o.innerText)), s.setAttribute("aria-setsize", this.elements.snaps.length), s.setAttribute("aria-posinset", e), s }, N = new WeakSet, W = function ({ index: e, type: t, item: r }) { const s = document.createElement("button"), i = r.querySelector("img"); return s.style.backgroundImage = `url(${i.src})`, s.className = "gui-carousel--control --gallery", s.type = "button", s.role = "tab", s.title = `Item ${e}: ${i.alt}`, s.setAttribute("aria-label", i.alt), s.setAttribute("aria-setsize", this.elements.snaps.length), s.setAttribute("aria-posinset", e), s }, C = new WeakSet, j = function () { let e = document.createElement("div"); e.className = "gui-carousel--controls"; let t = n(this, g, q).call(this, "previous"), r = n(this, g, q).call(this, "next"); e.appendChild(t), e.appendChild(r), this.elements.previous = t, this.elements.next = r, this.elements.root.prepend(e) }, g = new WeakSet, q = function (e) { let t = document.createElement("button"), r = `${e.charAt(0).toUpperCase() + e.slice(1)} Item`; t.type = "button", t.title = r, t.className = `gui-carousel--control --${e}`, t.setAttribute("aria-label", r); let s = document.createElementNS("http://www.w3.org/2000/svg", "svg"); s.setAttribute("aria-hidden", "true"), s.setAttribute("viewBox", "0 0 20 20"), s.setAttribute("fill", "currentColor"); let i = document.createElementNS("http://www.w3.org/2000/svg", "path"); i.setAttribute("fill-rule", "evenodd"), i.setAttribute("clip-rule", "evenodd"); let o = "M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z", h = "M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"; return i.setAttribute("d", e === "next" ? h : o), s.appendChild(i), t.appendChild(s), t }, p = new WeakSet, M = function (e) { e.style.animation = "gui-carousel--control-keypress 145ms var(--ease-2)", e.addEventListener("animationend", t => { e.style.animation = null }, { once: !0 }) }, f = new WeakSet, O = function () { return document.firstElementChild.getAttribute("dir") || "ltr" }; document.querySelectorAll(".gui-carousel").forEach(a => { new Q(a) });